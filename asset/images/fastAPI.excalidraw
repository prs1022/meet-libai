{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "9hUZYM2-zRXShZlYXjZWa",
      "type": "rectangle",
      "x": 683.76171875,
      "y": 80.37109375,
      "width": 131.19140624999997,
      "height": 63.19140625000001,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0y",
      "roundness": {
        "type": 3
      },
      "seed": 2055290678,
      "version": 164,
      "versionNonce": 992441462,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Nd1nNYdqO-sv4TwLOwYLF"
        },
        {
          "id": "Z_f-zP58312VMI94GYs5V",
          "type": "arrow"
        },
        {
          "id": "cQQPaCZEMUD7tbfLdXxCJ",
          "type": "arrow"
        }
      ],
      "updated": 1719383396229,
      "link": null,
      "locked": false
    },
    {
      "id": "Nd1nNYdqO-sv4TwLOwYLF",
      "type": "text",
      "x": 693.0974655151367,
      "y": 86.966796875,
      "width": 112.51991271972656,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0z",
      "roundness": null,
      "seed": 1451045930,
      "version": 211,
      "versionNonce": 1957115434,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "backend api\n(FastAPI)",
      "fontSize": 20,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "9hUZYM2-zRXShZlYXjZWa",
      "originalText": "backend api\n(FastAPI)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Z_f-zP58312VMI94GYs5V",
      "type": "arrow",
      "x": 819.8046875,
      "y": 110.73571864832164,
      "width": 60.0234375,
      "height": 0.014281351678363308,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b10",
      "roundness": {
        "type": 2
      },
      "seed": 1334922550,
      "version": 153,
      "versionNonce": 736186102,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719383396230,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          60.0234375,
          0.014281351678363308
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "9hUZYM2-zRXShZlYXjZWa",
        "gap": 4.8515625,
        "focus": -0.0394744698743024
      },
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "d4r66QgHCsOj_IEJgjFnL",
      "type": "rectangle",
      "x": 887.4375,
      "y": 91.015625,
      "width": 107.49609374999999,
      "height": 41.74999999999999,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b11",
      "roundness": {
        "type": 3
      },
      "seed": 2008536630,
      "version": 233,
      "versionNonce": 1191387178,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "exG2BEby9NhY4Ya3h1kgk"
        }
      ],
      "updated": 1719383411863,
      "link": null,
      "locked": false
    },
    {
      "id": "exG2BEby9NhY4Ya3h1kgk",
      "type": "text",
      "x": 908.9555816650391,
      "y": 99.390625,
      "width": 64.45993041992188,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b12",
      "roundness": null,
      "seed": 1929996342,
      "version": 233,
      "versionNonce": 1965955446,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "display",
      "fontSize": 20,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "d4r66QgHCsOj_IEJgjFnL",
      "originalText": "display",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "cQQPaCZEMUD7tbfLdXxCJ",
      "type": "arrow",
      "x": 752.0445597005402,
      "y": 159.22656250000003,
      "width": 0.5609090494598377,
      "height": 49.06249999999997,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b13",
      "roundness": {
        "type": 2
      },
      "seed": 92982442,
      "version": 36,
      "versionNonce": 1946681398,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719383396230,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0.5609090494598377,
          49.06249999999997
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "9hUZYM2-zRXShZlYXjZWa",
        "focus": -0.032549102294254284,
        "gap": 15.6640625
      },
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "1g7r4nH9xA9jrUrfKFRXx",
      "type": "rectangle",
      "x": 683.9296875,
      "y": 217.1171875,
      "width": 135.69140625,
      "height": 50.14453125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b14",
      "roundness": {
        "type": 3
      },
      "seed": 895844202,
      "version": 65,
      "versionNonce": 1164434666,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "yZugfQmB3Lx5orOdC37k_"
        }
      ],
      "updated": 1719383075531,
      "link": null,
      "locked": false
    },
    {
      "id": "yZugfQmB3Lx5orOdC37k_",
      "type": "text",
      "x": 721.4754180908203,
      "y": 229.689453125,
      "width": 60.599945068359375,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b15",
      "roundness": null,
      "seed": 1088380278,
      "version": 15,
      "versionNonce": 1332928746,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "reload",
      "fontSize": 20,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "1g7r4nH9xA9jrUrfKFRXx",
      "originalText": "reload",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Ne7ZGnCRkpu1g2xLPHhfY",
      "type": "arrow",
      "x": 752.3984375,
      "y": 63.73828125,
      "width": 0.5859375,
      "height": 48.75390625,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b16",
      "roundness": {
        "type": 2
      },
      "seed": 1674582890,
      "version": 21,
      "versionNonce": 1111852970,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719383089981,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -0.5859375,
          -48.75390625
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "3wtRyI3uvs6NYM7KiIj2k",
      "type": "rectangle",
      "x": 676.671875,
      "y": -42.34765625,
      "width": 144.46484375,
      "height": 45.86328125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b17",
      "roundness": {
        "type": 3
      },
      "seed": 1212875370,
      "version": 74,
      "versionNonce": 943288054,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "qRETvm2Usi6u8uYrSGXKF"
        }
      ],
      "updated": 1719383095480,
      "link": null,
      "locked": false
    },
    {
      "id": "qRETvm2Usi6u8uYrSGXKF",
      "type": "text",
      "x": 727.6343231201172,
      "y": -31.916015625,
      "width": 42.539947509765625,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b18",
      "roundness": null,
      "seed": 336349354,
      "version": 11,
      "versionNonce": 1045920438,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "build",
      "fontSize": 20,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "3wtRyI3uvs6NYM7KiIj2k",
      "originalText": "build",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "WkzdCaLcbJ95hXweSXJr8",
      "type": "text",
      "x": 730.2734375,
      "y": 283.44140625,
      "width": 287.9198303222656,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b19",
      "roundness": null,
      "seed": 1555040822,
      "version": 185,
      "versionNonce": 284898218,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "load model with model_name，version",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "load model with model_name，version",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 294,
      "versionNonce": 1984082934,
      "index": "b1A",
      "isDeleted": false,
      "id": "ml8IQNpKxC6PCY9CVLhTt",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 678.3302307128906,
      "y": -80.72265625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 354.97576904296875,
      "height": 20,
      "seed": 1802258346,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "build target model with specified model_name",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "build target model with specified model_name",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 294,
      "versionNonce": 385140022,
      "index": "b1C",
      "isDeleted": false,
      "id": "JpIpRKQQVSsa5X4V6WDdi",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 891.3877410888672,
      "y": 147.1640625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 270.767822265625,
      "height": 20,
      "seed": 1839323702,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "display specified version model info",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "display specified version model info",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "PNGhCHgH484aiPO8D13hN",
      "type": "text",
      "x": 771.0546875,
      "y": 349.28515625,
      "width": 190.2078857421875,
      "height": 60,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1E",
      "roundness": null,
      "seed": 1144768886,
      "version": 246,
      "versionNonce": 299019894,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "1. search entity model \n\n2. rag retriever model  ",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "1. search entity model \n\n2. rag retriever model  ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "VZH-Xh6VhWaIGGVcyyjKh",
      "type": "arrow",
      "x": 803.44140625,
      "y": 426.81640625,
      "width": 109.75390625,
      "height": 36.6171875,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1K",
      "roundness": {
        "type": 2
      },
      "seed": 863794294,
      "version": 43,
      "versionNonce": 1441112234,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "8PHw4pJJ-uNvuaDPB3GH4"
        }
      ],
      "updated": 1719385970570,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -109.75390625,
          36.6171875
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "8PHw4pJJ-uNvuaDPB3GH4",
      "type": "text",
      "x": 746.3964538574219,
      "y": 435.125,
      "width": 4.33599853515625,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1KV",
      "roundness": null,
      "seed": 511953078,
      "version": 5,
      "versionNonce": 1671524278,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "1",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "VZH-Xh6VhWaIGGVcyyjKh",
      "originalText": "1",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "2DphiGibjfU45ZcxHmLCh",
      "type": "text",
      "x": 576.39453125,
      "y": 493.11328125,
      "width": 574.9594116210938,
      "height": 241.453125,
      "angle": 0,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1L",
      "roundness": null,
      "seed": 1128806698,
      "version": 213,
      "versionNonce": 221069546,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386930171,
      "link": null,
      "locked": false,
      "text": "search entity depends on pyahocorasick lib\ncode:\nautomaton = pyahocorasick.Automaton()\nfor i, entity in enumerate(self._node_entities()):\n    value = _Value(*(entity[fn] for fn in FIELD_NAMES))\n    automaton.add_word(entity[self._search_key], (i, value))\nautomaton.make_automaton()\n\nbuild an aho corasick automaton to quickly search for specific patterns\nthat appear in strings.\n\n",
      "fontSize": 16.096875,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "search entity depends on pyahocorasick lib\ncode:\nautomaton = pyahocorasick.Automaton()\nfor i, entity in enumerate(self._node_entities()):\n    value = _Value(*(entity[fn] for fn in FIELD_NAMES))\n    automaton.add_word(entity[self._search_key], (i, value))\nautomaton.make_automaton()\n\nbuild an aho corasick automaton to quickly search for specific patterns\nthat appear in strings.\n\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "gvNgv7uC9JkIrAmgD2yL_",
      "type": "arrow",
      "x": 985.0234375,
      "y": 381.1328125,
      "width": 268.1796875,
      "height": 118.890625,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1M",
      "roundness": {
        "type": 2
      },
      "seed": 210411306,
      "version": 46,
      "versionNonce": 1648191094,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "-823a2zWxCRiMIST6Qq78"
        }
      ],
      "updated": 1719385972338,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          268.1796875,
          118.890625
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "-823a2zWxCRiMIST6Qq78",
      "type": "text",
      "x": 1113.4172821044922,
      "y": 430.578125,
      "width": 11.391998291015625,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1N",
      "roundness": null,
      "seed": 1216413226,
      "version": 5,
      "versionNonce": 679872758,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386033232,
      "link": null,
      "locked": false,
      "text": "2",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "gvNgv7uC9JkIrAmgD2yL_",
      "originalText": "2",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "tenoRRiPZbeNIMgtFBXjv",
      "type": "text",
      "x": 1280.421875,
      "y": 493.04296875,
      "width": 1022.4794311523438,
      "height": 240,
      "angle": 0,
      "strokeColor": "#f08c00",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1O",
      "roundness": null,
      "seed": 1173694390,
      "version": 1062,
      "versionNonce": 391927402,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1719386780227,
      "link": null,
      "locked": false,
      "text": "rag retriever process:\n1. load embeddingmodel named iic/nlp_corom_sentence-embedding_chinese-base by modelscope\n2. split file text ,return chunks by langchain\n3. build _vector by FAISS(facebook ai similarity search),\n  code: _vector = FAISS.from_documents(documents, embedding_model)\n  3.1 use emebeddingmodel convert documents into vector form\n  3.2 use these vectors to create FAISS index which used for subsequent similarity search or clustering tasks\n4. build _retriever ,convert _vector into a retriever that used to perform search tasks \n   code: _retriever = ._vector.as_retriever(search_kwargs={\"k\": 6})\n  return the vecotr of the document that is most similar to the query vector.\n  search_kwargs paramete allows to customize the behavior of the search, ex: controlling number of nearest neighbors returned.\n",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "rag retriever process:\n1. load embeddingmodel named iic/nlp_corom_sentence-embedding_chinese-base by modelscope\n2. split file text ,return chunks by langchain\n3. build _vector by FAISS(facebook ai similarity search),\n  code: _vector = FAISS.from_documents(documents, embedding_model)\n  3.1 use emebeddingmodel convert documents into vector form\n  3.2 use these vectors to create FAISS index which used for subsequent similarity search or clustering tasks\n4. build _retriever ,convert _vector into a retriever that used to perform search tasks \n   code: _retriever = ._vector.as_retriever(search_kwargs={\"k\": 6})\n  return the vecotr of the document that is most similar to the query vector.\n  search_kwargs paramete allows to customize the behavior of the search, ex: controlling number of nearest neighbors returned.\n",
      "autoResize": true,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}